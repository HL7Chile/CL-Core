{
  "resourceType": "StructureDefinition",
  "id": "CorePacienteCl",
  "extension": [
    {
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-category",
      "valueString": "Base.Individuals"
    },
    {
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-security-category",
      "valueCode": "patient"
    }
  ],
  "url": "http://minsal.cl/fhir/core//StructureDefinition/CorePacienteCl",
  "version": "0.8 (Ballot Pendiente)",
  "name": "PacienteCl",
  "title": "Perfil Paciente para Receta Digital, extensible a Core Nacional",
  "status": "active",
  "description": "Este Perfil ha sido desarrollado para cubrir las necesidades del Caso de Uso de Receta Electrónica. Sin embargo, se ha modelado con el fin de cubrir las necesidades nacionales de un Recurso Paciente para un Historial Clínico Nacional",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "cda",
      "uri": "http://hl7.org/v3/cda",
      "name": "CDA (R2)"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    },
    {
      "identity": "v2",
      "uri": "http://hl7.org/v2",
      "name": "HL7 v2 Mapping"
    },
    {
      "identity": "loinc",
      "uri": "http://loinc.org",
      "name": "LOINC code for the element"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Patient",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Patient",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Patient.extension",
        "path": "Patient.extension",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "url"
            }
          ],
          "ordered": false,
          "rules": "open"
        },
        "short": "Extensión de Nacionalidad para pacientes extranjeros",
        "definition": "para hacer uso de esta extensión se debe agregar el path: extension.url = ´nationality´",
        "mustSupport": true
      },
      {
        "id": "Patient.extension.extension",
        "path": "Patient.extension.extension",
        "max": "0"
      },
      {
        "id": "Patient.extension.valueCodeableConcept",
        "path": "Patient.extension.valueCodeableConcept",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ]
      },
      {
        "id": "Patient.extension.valueCodeableConcept.coding.system",
        "path": "Patient.extension.valueCodeableConcept.coding.system",
        "short": "El sistema de códigos queda definido en la norma ISO3166-1-N",
        "patternUri": "http://hl7.org/fhir/ValueSet/iso3166-1-N"
      },
      {
        "id": "Patient.extension:nationality",
        "path": "Patient.extension",
        "sliceName": "nationality",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/patient-nationality"
            ]
          }
        ]
      },
      {
        "id": "Patient.identifier",
        "path": "Patient.identifier",
        "short": "Listados de Id de Paciente",
        "definition": "Este es el listado de Identificaciones de un paciente. Se procura como R2 el RUN, pero en caso de no existir ese identificador se debe ocupar otro nacional u otro otorgado por país extranjero",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.identifier.extension",
        "path": "Patient.identifier.extension",
        "mustSupport": true
      },
      {
        "id": "Patient.identifier.use",
        "path": "Patient.identifier.use",
        "short": "este es el propósito del identificador",
        "definition": "Se definirá este uso siempre como ´official´ debido a que cualquier ID presentado para motivos de este perfil deb ser de este tipo",
        "patternCode": "official",
        "mustSupport": true
      },
      {
        "id": "Patient.identifier.type",
        "path": "Patient.identifier.type",
        "short": "Tipo de documento de Id (Extensible)",
        "definition": "Se define como tipo de docunento de Id aquel definido en el Sistema de Codificación V2-0203 de Hl7. Este sistema es extensible",
        "mustSupport": true
      },
      {
        "id": "Patient.identifier.type.extension",
        "path": "Patient.identifier.type.extension",
        "short": "País de Origen del Documento de Id",
        "min": 1
      },
      {
        "id": "Patient.identifier.type.extension:paises",
        "path": "Patient.identifier.type.extension",
        "sliceName": "paises",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://minsal.cl/fhir/core//StructureDefinition/CodigoPaises"
            ]
          }
        ]
      },
      {
        "id": "Patient.identifier.type.coding.system",
        "path": "Patient.identifier.type.coding.system",
        "binding": {
          "strength": "required",
          "valueSet": "http://minsal.cl/fhir/core//ValueSet/COD-ISO-3166-N"
        }
      },
      {
        "id": "Patient.identifier.type.coding.code",
        "path": "Patient.identifier.type.coding.code",
        "short": "Código de Tipo de Documento"
      },
      {
        "id": "Patient.name",
        "path": "Patient.name",
        "slicing": {
          "discriminator": [
            {
              "type": "type",
              "path": "use"
            }
          ],
          "rules": "open",
          "description": "Slice defindos en base a el elemento use"
        },
        "min": 1
      },
      {
        "id": "Patient.name:NombreOficial",
        "path": "Patient.name",
        "sliceName": "NombreOficial",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Patient.name:NombreOficial.use",
        "path": "Patient.name.use",
        "short": "uso del nombre del paciente",
        "definition": "este slice corresponde al nombre registrado al momento de nacer, por lo que se fuerza el valor official",
        "patternCode": "official"
      },
      {
        "id": "Patient.name:NombreOficial.family",
        "path": "Patient.name.family",
        "short": "1er Apellido",
        "definition": "Se define el primer apellido registrado al momento de nacer o aquel que se ha inscrito legalmente en el Registro Civil",
        "min": 1
      },
      {
        "id": "Patient.name:NombreOficial.family.extension",
        "path": "Patient.name.family.extension",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "url"
            }
          ],
          "ordered": false,
          "rules": "open"
        },
        "short": "Extensión para 2o apellido"
      },
      {
        "id": "Patient.name:NombreOficial.family.extension:mothers-family",
        "path": "Patient.name.family.extension",
        "sliceName": "mothers-family",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/humanname-mothers-family"
            ]
          }
        ]
      },
      {
        "id": "Patient.name:NombreOficial.given",
        "path": "Patient.name.given",
        "min": 1
      },
      {
        "id": "Patient.name:NombreSocial",
        "path": "Patient.name",
        "sliceName": "NombreSocial",
        "short": "nombre recurrente que usa el paciente",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Patient.name:NombreSocial.use",
        "path": "Patient.name.use",
        "short": "uso que se le da al nombre",
        "definition": "Este uso especifico se enfoca a la definición de un nombre social. Es por esta razón que el uso se fuerza a usual",
        "patternCode": "usual"
      },
      {
        "id": "Patient.name:NombreSocial.text",
        "path": "Patient.name.text",
        "max": "0"
      },
      {
        "id": "Patient.name:NombreSocial.family",
        "path": "Patient.name.family",
        "max": "0"
      },
      {
        "id": "Patient.name:NombreSocial.given",
        "path": "Patient.name.given",
        "short": "Nombre Social",
        "max": "1"
      },
      {
        "id": "Patient.name:NombreSocial.prefix",
        "path": "Patient.name.prefix",
        "max": "0"
      },
      {
        "id": "Patient.name:NombreSocial.suffix",
        "path": "Patient.name.suffix",
        "max": "0"
      },
      {
        "id": "Patient.name:NombreSocial.period",
        "path": "Patient.name.period",
        "max": "0"
      },
      {
        "id": "Patient.telecom",
        "path": "Patient.telecom",
        "mustSupport": true
      },
      {
        "id": "Patient.telecom.use",
        "path": "Patient.telecom.use",
        "short": "uso del contacto descrito"
      },
      {
        "id": "Patient.gender",
        "path": "Patient.gender",
        "short": "sexo de nacimiento Registrado",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.birthDate",
        "path": "Patient.birthDate",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.address",
        "path": "Patient.address",
        "mustSupport": true
      },
      {
        "id": "Patient.address.use",
        "path": "Patient.address.use",
        "short": "Definición del tipo de domicilio home | work | temp | old (requerido)",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.address.line",
        "path": "Patient.address.line",
        "short": "Calle o avenida, numero y casa o depto",
        "mustSupport": true
      },
      {
        "id": "Patient.address.city",
        "path": "Patient.address.city",
        "short": "Campo para Comuna de residencia",
        "mustSupport": true,
        "binding": {
          "strength": "required",
          "valueSet": "http://minsal.cl/fhir/core//ValueSet/CodNacComunas"
        }
      },
      {
        "id": "Patient.address.district",
        "path": "Patient.address.district",
        "short": "Campo para Provincia de Residencia",
        "mustSupport": true,
        "binding": {
          "strength": "required",
          "valueSet": "http://minsal.cl/fhir/core//ValueSet/CodProv"
        }
      },
      {
        "id": "Patient.address.state",
        "path": "Patient.address.state",
        "short": "Campo para Provincia de Región",
        "mustSupport": true,
        "binding": {
          "strength": "required",
          "valueSet": "http://minsal.cl/fhir/core//ValueSet/CodReg"
        }
      },
      {
        "id": "Patient.address.country",
        "path": "Patient.address.country",
        "short": "Campo para País de Residencia",
        "mustSupport": true,
        "binding": {
          "strength": "required",
          "valueSet": "http://minsal.cl/fhir/core//ValueSet/DOCType-V2-0203"
        }
      }
    ]
  }
}
